 spiro←{
     R r d←⍵⋄v←600 600⍴255
     x←{((R+r)×2○⍵)+d×2○(⍵×R+r)÷r}
     y←{((R+r)×1○⍵)-d×1○(⍵×R+r)÷r}
     ⍺ {(⍺ 1)⎕NPUT⍨⊂(⍕255,⍨'P2',⍴⍵),' ',⍕,⍵} v⊣{
        ⊢v[300+⌊20×x⍵;300+⌊20×y⍵]←0
     }¨(⍳62831×(R∧|r)÷R)×1e¯4
 }