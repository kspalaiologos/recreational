<html><body><canvas id="c" width="400" height="400"></canvas><button onclick="S()">Solve</button><button onclick="R()">Reset</button><script>_='` R(D=[[1,2,3,4],[5,6,7,8],[9,10,11,12],[13,14,15,""]],p()IS(O=D,GFNMra=!0,solve();_a=0;a<M~;a++	MH.rbP,d=MH.rbU,f=MH.rcP,e=MH.rcU,g=D;D=D[e][f],D[e][f]=g,p()}p(ra=!1Ip(clearRect(0,0,400,400font="30px Arial",textAlign="center",textBaseline="middle";_a=0;4>a;a++)	0;4>b;b++)""!=DH(fillStyle="#333399",fillRect(*b,*a,,fillStyle="#FFFFFF",fillText(DH,*b+50,*a+50Iql(NFG=[];_a=0;a<O~;a++FHGH=[];	0;b<O~;b++_d=OH;GH=d,FH=!1,N=Vb}}}Isolve(ql(qn(G~)IqnKa>2?(feKfdKqnK-1:2==a(feK""===G[][^a]qg(VJ}IfeK	a=^a;b<^2;b++)qqK*G~+(bVb}FH=!0;	a*G~+,d;qq@V}(NP!=NU!=aNP!=NU!=a)(qq@V^2}E(V^2}qe(V},"ul u  l dl d  l ul u  l ul u  d".split(" "wK)IfdK	a=^a;b<^2;b++)qq(b*G~+a,VaJb}FH=!0;	(^2)*G~+a,d+G~;qq@VaJaJ}(NP!=aNU!=NP!=aNU!=)(qq@VaJaJ^2}E(VaJ^2}qe(VaJ},"ul l  u ur r  u ul l  u ul l  r".split(" "qwK)Iqe%_d=0;d<b~;d++)qg(""=?a:bIqq%if(NHP!PNHU!U)qmK);NHP!PNHU!U;_d=qK,b);==d==d?faK,==d):fcK,==d)}Ifc%_d?:,f?:,e=,g=NH;eU!=gU?(e=eU<gU?:,We+dWe?(qg(We+d)ZWd):(qg(We+f)ZWf,fbb):(eP<gP!beP>gPb)fbbZg)Ifb%_d?:,f?:,e=;+d+f(e=Ze+f)Ze)Ze+d)ZdIfa%_d?:,f?:,e=,g=NH;eP!=gP?(e=eP<gP?:,Wd+eWe?(qg(Wd+e)ZWd):(qg(Wf+e)ZWf,zb):(eU<gU!beU>gUb)zbZg)Iz%_d?:,f?:,e=;d+f+(e=Zf+e)Ze)Zd+e)ZdIwKFH[]=!0,F[a][]=!0;	V};E(W@)ZbZW@,F[a][]=!1,F-1]=!0IqwKF[]H=!0,F[][a]=!0;	VaJ};E(W@)ZbZW@,F[][a]=!1,F[bU-1][bP]=!0Iq%_d=NH,fP-dP,eU-dU; 0>fVdP-1JdU})?:f>0VdPJdU})?:0>eVdPJdU-1})?:e>0VdPJdU})?:void 0IqmK_d=NH,f=1;!(P==dPU==dUqx("",a)(qz(df++,f>;);IEK	1;!(P==aPU==aU(qzKb++,b>;);IqzK	,dP-aP;aU-aU,0>dQ@W@?X@W@:d>0Q@W@?X@W@:0>aQ@W@?X@W@:a>0Q@W@X@W@IW%"u$U-1}:"d$U}:"l$-1U}:"r$U}:"ul$-1U-1}:"ur$U-1}:"dl$-1U}:"dr$U}:aIqx%_d=NH,f=N; 1==Math.abs(dP-fP)dU==fU1==Math.abs(dU-fU)dP==fPIqfK qyK)!FIqyK!(0>aPaP>=G~0>aUaU>=G~)IQ% qyK)qy(b)qx(G,G])?!(FF]):!1IqgKX(,a)IX%_d=G,f=G],e=N;N=N[f],N[f]=e,G=f,G]=d,M.push({rb:""==d?a:b,rc:""==d?b:a})}_ctx=c.getContext("2d");R();_ra=!1,i=-1,j=-1;c.addEventListener("click",`Kif(!ra	Math.floor(K.pageY-c.offsetTop)/);ifK=Math.floor(K.pageX-c.offsetLeft)/-1==i)i,j=a,setTimeout(`(i=-1,p()},999);else{_d=DH;DH=D[i][j],D[i][j]=d,i=-1,p()}}});~.length`function_var ^G~-Zqg(V{x:U.yP.xK(aJ,y:I}` H[a]@(b,%K,b$"=?VaP))&&(g,[b]for(),WK,qf("l""d"prev^1+1){N[""]return[bU][bP[aU][aP]=b"u"	_b=||[d]"r"100ctx.=[],}qq(d,VJa';for(Y in $="	$%@HIJKPUVZ^_`~")with(_.split($[Y]))_=join(pop());eval(_)</script></body></html>